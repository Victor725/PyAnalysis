This function handles HTTP GET requests to serve static files from a specified directory, returning a compressed version if available.
This function handles HTTP GET requests to serve static files from a specified directory. It checks if a compressed version of the requested file exists and serves it with gzip encoding if available; otherwise, it serves the uncompressed file.
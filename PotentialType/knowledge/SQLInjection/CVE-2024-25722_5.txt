The function asynchronously processes a request to clean files based on their status for a specific user. It validates the user ID and retrieves a list of knowledge base IDs. If no knowledge base IDs are provided, it fetches them for the user. It then checks the existence of the specified knowledge bases and retrieves files with the specified status from these knowledge bases. If any files are found, they are deleted from the system, and a success message is returned, including the names of the deleted files.
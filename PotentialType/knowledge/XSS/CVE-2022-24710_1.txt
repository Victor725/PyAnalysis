User Input Sources:  
- The function receives input from an HTTP POST request via the `request` object. Specifically, it accesses `request.POST` to gather data submitted through a form.

Main Functionality:  
- The function `get_counts` is designed to generate and display work counts for a specified project and component. It first determines the context object (`obj`) based on the presence of `project` and `component` parameters. If no project is specified, it defaults to `None`. If a project is specified without a component, it retrieves the project using `get_project`. If both are specified, it retrieves the component using `get_component`.
- The function then validates the submitted form data using `ReportsForm`. If the form is invalid, it shows errors and redirects the user.
- If the form is valid, it calls `generate_counts` to compute work-related data, which may be filtered based on user permissions.
- The function supports different output styles (`json`, `html`, or plain text) based on the form's `style` field. It formats the output accordingly using headers and data rows.

Outputs / Return Values:  
- If the `style` is `json`, it returns a JSON response containing the data.
- If the `style` is `html`, it generates an HTML table and returns it as an `HttpResponse` with a content type of `text/html`.
- If the `style` is neither `json` nor `html`, it returns a plain text formatted output as an `HttpResponse` with a content type of `text/plain`.
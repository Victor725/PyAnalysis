This function determines and returns the current phase based on a requested identifier by iterating through a list of phases. It processes valid phases and checks conditions to identify the appropriate phase to return. If no matching phase is found, it raises an error indicating the requested phase was not found.